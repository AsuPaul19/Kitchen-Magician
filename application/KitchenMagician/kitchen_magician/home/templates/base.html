

<!-- home/templates/base.html -->
<!-- Programmers: Jeff C Cheng, Allen Sun -->
<!-- Last Modified: 11/14/2020 -->
<!-- modification of code based on Allen's dev -->

<!-- loading static assets -->
{% load static %}
<!-- loading static assets -->

<!DOCTYPE html>
<html lang="en">

<!-- head section -->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- style sheets used by Allen -->
        <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet"/>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

        <link rel="stylesheet" type="text/css" href="{% static 'home/css/base.css' %}" />
<!-- style sheets used by Allen -->

<!-- loading css -->
        {% block css %}{% endblock css %}
<!-- loading css -->

<!-- title depends on context from view -->
        {% if title %}
        <title>Kitchen Magician - {{ title }}</title>
        {% else %}
        <title>Kitchen Magician</title>
        {% endif %}
    </head>
<!-- title depends on context from view -->

<!-- head section -->

<!-- body section -->
    <body>

<!-- header section -->
<header class="site-header">
    <nav class="navbar navbar-expand-md navbar-dark bg-steel fixed-top">
        <div class="container">

<!-- home -->            
            <a class="navbar-brand mr-4" href="{% url 'home' %}">Kitchen Magician</a>
<!-- home -->            

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggle"
                aria-controls="navbarToggle" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarToggle">

                <div class="navbar-nav mr-auto">
<!-- about and groups -->                                                
                    <a class="nav-item nav-link" href="{% url 'about' %}">About</a>
                    <a class="nav-item nav-link" href="{% url 'groups' %}">Groups</a>                            
<!-- about and groups -->                                                
                </div>    

<!-- navigator bar bisector, for readability -->

<!-- Kevin's search function, based on Jeff's original search page -->
                <div class="navbar-nav ">
                    <form method="POST" action="#">
                        {% csrf_token %}
                        <select name="filter" id="filter" class="form-control form-control-sm">
                            <option value="none"> -- select an option -- </option>
                            <option value="title">Title</option>
                            <option value="author">Author</option>
                            <option value="content">Content</option>
                        </select>
                        <input type="text" placeholder="Enter Keywords" name = "keyword">
                        <input type="submit" value="Submit">
                    </form>                  
<!-- Kevin's search function, based on Jeff's original search page -->
                 
<!-- if registered user is logged in -->
                    {% if user.is_authenticated %}
                        <a class="nav-item nav-link" href="{% url 'user_profile' %}">Profile</a>
                        <a class="nav-item nav-link" href="{% url 'logout' %}">Logout</a>
<!-- if registered user is logged in -->                        

<!-- if user is not logged in (maybe even unregistered) -->
                    {% else %}
                        <a class="nav-item nav-link" href="{% url 'login' %}">Login</a>
                        <a class="nav-item nav-link" href="{% url 'signup' %}">Register</a>
                    {% endif %}
<!-- if user is not logged in (maybe even unregistered) -->

                </div>
            </div>
        </div>
    </nav>
</header>
<!-- header section -->        

<!-- content section -->
        {% block content %}{% endblock content %}
<!-- content section -->

<!-- footer section -->

<!-- JQuery, FontAwesome, etc. -->
            <footer id="main-footer">
                <p>&copy; 2020 Kitchen Magician Inc.</p>
            </footer>
            <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
            <script src='https://kit.fontawesome.com/a076d05399.js'></script>
<!-- JQuery, FontAwesome, etc. -->

<!-- footer section -->

<!-- script section -->
        {% block script %}{% endblock script %}
<!-- script section -->

    </body>
<!-- body section -->

</html>

<!-- incompatible current logic given 
    <header id="header">
    <div class="container">
        <a href="{% url 'home' %}" class="KitchenMagician">Kitchen Magician</a>
        <ul id="ul-nav-link">
            <li class="nav-link"><a href="{% url 'about' %}">About</a></li>
            <li class="nav-link"><a href="{% url 'groups' %}">Groups</a></li>
            <li id="search">
                <form action="{% url 'search' %}" method="POST" id="search-form">
                    {% csrf_token %}
                    <div id="search-box" class="search-box-block">
                        <input id="search-text-id" class="search-text" type="text" name="keywords" placeholder="Recipes for any ingredient, occasion, type or diet">
                        <div class="search-btn" type="submit">
                            <button type="submit"  class="fas fa-search"></button>
                        </div>
                    </div> 
                </form>
            </li>
            {% if user.is_authenticated %}
            <li class="nav-link"><a href="{% url 'login' %}">Log in</a></li>
            <li class="nav-link"><a href="{% url 'signup' %}">Sign up</a></li>
                <li id="account" class="nav-item btn-group">
                    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Hi, {{ user.get_username }}
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="{% url 'create_recipe' %}">Create a recipe</a>                        
                        <a class="dropdown-item" href="{% url 'user_profile' username=user.username %}">Profile</a>                                                           
                        <a class="dropdown-item" href="{% url 'logout' %}?next=/">Log out</a>
                    </div>
                </li>
            {% else %}
                <li class="nav-link"><a href="{% url 'login' %}">Log in</a></li>
  
                <li class="nav-link"><a href="{% url 'signup' %}">Sign up</a></li>
            {% endif %}
        </ul>
    </div>
  </header> -->